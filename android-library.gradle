apply plugin: 'com.android.library'
apply plugin: 'org.jetbrains.kotlin.android'
apply plugin: 'kotlin-kapt'
apply plugin: 'dagger.hilt.android.plugin'
apply plugin: 'androidx.navigation.safeargs.kotlin'
//apply plugin: 'com.google.gms.google-services'

android {
    compileSdk Android.targetSdk

    defaultConfig {
        minSdk Android.minSdk
        targetSdk Android.targetSdk

        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
        consumerProguardFiles "consumer-rules.pro"

        javaCompileOptions {
            annotationProcessorOptions {
                arguments += ["room.schemaLocation": "$projectDir/schemas".toString()]
            }
        }
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    buildFeatures {
        viewBinding true
        compose true
    }

    composeOptions {
        kotlinCompilerExtensionVersion = "1.2.0"
    }
    compileOptions {
        coreLibraryDesugaringEnabled true

        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    kotlinOptions {
        jvmTarget = '1.8'
        freeCompilerArgs += ["-Xopt-in=kotlin.RequiresOptIn"]
    }
}

dependencies {

    implementation(Nav.navFrag)
    implementation(Nav.navUI)

    implementation Hilt.android
    kapt Hilt.compiler

    implementation Paging.paging
    implementation Paging.runtime

    implementation Deps.swipeLayout
    implementation Deps.glide

    implementation(Coroutines.core)
    implementation(Coroutines.coroutines)

    implementation AndroidX.coreKtx
    implementation AndroidX.appCompat
    implementation AndroidX.material

    implementation Compose.runtime
    implementation Compose.ui
    implementation Compose.foundation
    implementation Compose.foundationLayout
    implementation Compose.material
    implementation Compose.material3
    implementation Compose.tooling
    implementation Compose.toolingPreview
    implementation Compose.themeAdapter
    implementation Compose.coil
    implementation Compose.constraintLayout
    implementation Compose.livedata
    implementation Compose.viewModel

    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.5'
    implementation 'com.android.support:support-annotations:28.0.0'

//    testImplementation(AndroidTest.junit)
//    androidTestImplementation AndroidTest.extJunit
//    androidTestImplementation AndroidTest.espresso
}